<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Exercise
Implement some posteffects you find interesting. Introduction # Post effects, in the context of computer graphics, refer to the application of visual filters, transformations, and enhancements to an already rendered image or frame. These effects are typically used to modify the appearance, mood, or style of the image by altering its colors, textures, shapes, or overall visual characteristics. Post effects can include techniques such as blurring, sharpening, color grading, distortion, bloom, motion blur, and many others."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Exercise
Implement some posteffects you find interesting. Introduction # Post effects, in the context of computer graphics, refer to the application of visual filters, transformations, and enhancements to an already rendered image or frame. These effects are typically used to modify the appearance, mood, or style of the image by altering its colors, textures, shapes, or overall visual characteristics. Post effects can include techniques such as blurring, sharpening, color grading, distortion, bloom, motion blur, and many others."><meta property="og:type" content="article"><meta property="og:url" content="https://sergio-sanchezo.github.io/showcase/docs/shortcodes/shaders/post_effects/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-15T20:24:49-05:00"><title>Post Effects | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><input type=checkbox id=section-28af9825a6c9a42a944ad080d209e122 class=toggle>
<label for=section-28af9825a6c9a42a944ad080d209e122 class="flex justify-between"><a href=/showcase/docs/shortcodes/miembros/>Miembros</a></label><ul><li><a href=/showcase/docs/shortcodes/miembros/Arturo-Ascarza/>Arturo Ascarza</a></li><li><a href=/showcase/docs/shortcodes/miembros/Carlos-Cortes/>Carlos Cortes</a></li><li><a href=/showcase/docs/shortcodes/miembros/Sergio-Sanchez/>Sergio Sanchez</a></li></ul></li><li><input type=checkbox id=section-6d6445ed16f829ce6720abb33c55105e class=toggle checked>
<label for=section-6d6445ed16f829ce6720abb33c55105e class="flex justify-between"><a href=/showcase/docs/shortcodes/shaders/>Shaders</a></label><ul><li><a href=/showcase/docs/shortcodes/shaders/post_effects/ class=active>Post Effects</a></li><li><a href=/showcase/docs/shortcodes/shaders/image_processing/>Image Processing</a></li><li><a href=/showcase/docs/shortcodes/shaders/procedural_texturing/>Procedural Texturing</a></li></ul></li><li><input type=checkbox id=section-f46a4e810e0595032edc1fcc1384d4ee class=toggle>
<label for=section-f46a4e810e0595032edc1fcc1384d4ee class="flex justify-between"><a href=/showcase/docs/shortcodes/visual-illusions/>Visual Illusions</a></label><ul><li><a href=/showcase/docs/shortcodes/visual-illusions/monocular_cues/>Monocular Cues</a></li><li><a href=/showcase/docs/shortcodes/visual-illusions/aplications_visual_phenomena/>Aplications Visual Phenomena</a></li><li><a href=/showcase/docs/shortcodes/visual-illusions/moire_kinegram/>Moire Kinegram</a></li><li><a href=/showcase/docs/shortcodes/visual-illusions/masking/>Masking</a></li></ul></li></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Post Effects</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#previous-work>Previous Work</a></li><li><a href=#exploring-image-transformations-grayscale-sepia-and-inverted-effects>Exploring Image Transformations: Grayscale, Sepia, and Inverted Effects</a><ul><li><a href=#implementation>Implementation</a></li></ul></li><li><a href=#solution>Solution</a></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#future-work>Future Work</a></li><li><a href=#references>References</a></li></ul></nav></aside></header><article class=markdown><blockquote class="book-hint info"><strong>Exercise</strong><br>Implement some posteffects you find interesting.</blockquote><h1 id=introduction>Introduction
<a class=anchor href=#introduction>#</a></h1><p>Post effects, in the context of computer graphics, refer to the application of visual filters, transformations, and enhancements to an already rendered image or frame. These effects are typically used to modify the appearance, mood, or style of the image by altering its colors, textures, shapes, or overall visual characteristics. Post effects can include techniques such as blurring, sharpening, color grading, distortion, bloom, motion blur, and many others. They are often employed in areas such as video games, movies, virtual reality, and digital art to add visual appeal, realism, or artistic flair to the final output.</p><h1 id=previous-work>Previous Work
<a class=anchor href=#previous-work>#</a></h1><p>Post effects have been extensively explored and utilized in the field of computer graphics, contributing to the advancement of visual effects in various mediums such as film, video games, and digital art. Researchers and artists have developed numerous techniques and algorithms to achieve compelling post effects, enhancing the overall visual quality and artistic expression of rendered images and videos.</p><p>One notable area of previous work is in the field of film and animation. Post-production studios have employed post effects extensively to create stunning visual sequences and enhance the storytelling experience. Techniques like color grading, which involves manipulating the color palette and tone of the footage, have been widely used to evoke specific moods, establish visual consistency, and enhance the narrative impact.</p><h1 id=exploring-image-transformations-grayscale-sepia-and-inverted-effects>Exploring Image Transformations: Grayscale, Sepia, and Inverted Effects
<a class=anchor href=#exploring-image-transformations-grayscale-sepia-and-inverted-effects>#</a></h1><p>Post effects such as grayscale, sepia, and inverted are commonly used image transformations that alter the visual appearance of an image by manipulating its pixel values. These effects can be implemented through simple algorithms or shaders, providing a quick and straightforward way to modify the colors and tones of an image.</p><h2 id=implementation>Implementation
<a class=anchor href=#implementation>#</a></h2><p><em><strong>Note</strong> The lens of the code above was adapted from <a href="https://www.shadertoy.com/results?query=magnifier">shadertoy</a>, and the effects were inspired from this <a href=https://mdn.github.io/dom-examples/canvas/pixel-manipulation/color-manipulation.html>github repo</a></em></p><p><em><strong>Note:</strong> A random image is being taken from <em><a href=https://picsum.photos>https://picsum.photos</a></em> feel free to reload this page and see a new image.</em></p><iframe id=test style=width:525px;height:525px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
            
            
            
            
            <script>
              

let circleEffect;
let filterObject;
let imageLoaded;
let grayscaleCheckbox;
let sepiaCheckbox;
let invertCheckbox;
let filterType = 2;

function preload() {
  imageLoaded = loadImage('https://picsum.photos/id/400/600');
  filterObject = readShader('../../../../sketches/extra/filter.frag', { varyings: Tree.texcoords2 });
}

function setup() {
  createCanvas(500, 500);

  circleEffect = createGraphics(width, height, WEBGL);
  circleEffect.colorMode(RGB, 1);
  circleEffect.textureMode(NORMAL);
  circleEffect.shader(filterObject);

  // Create checkboxes
  grayscaleCheckbox = createCheckbox('GRAYSCALE', false);
  grayscaleCheckbox.changed(updateFilterType);
  grayscaleCheckbox.style('color', 'red');
  grayscaleCheckbox.position(10, 10)
  sepiaCheckbox = createCheckbox('SEPIA', true);
  sepiaCheckbox.changed(updateFilterType);
  sepiaCheckbox.style('color', 'red');
  sepiaCheckbox.position(10, 30)
  invertCheckbox = createCheckbox('INVERTED', false);
  invertCheckbox.changed(updateFilterType);
  invertCheckbox.style('color', 'red');
  invertCheckbox.position(10, 50)
}

function updateFilterType() {
  filterType = 0;
  if (grayscaleCheckbox.checked()) {
    filterType = 1;
  }
  if (sepiaCheckbox.checked()) {
    filterType = 2;
  }
  if (invertCheckbox.checked()) {
    filterType = 3;
  }
}

function draw() {
  circleEffect.background(125);
  circleEffect.emitResolution(filterObject, 'iResolution');
  circleEffect.emitPointerPosition(filterObject, mouseX, mouseY, 'iMouse');
  filterObject.setUniform('filterType', filterType);
  filterObject.setUniform('texture', imageLoaded);
  pg = circleEffect;
  pg.quad(-1, 1, 1, 1, 1, -1, -1, -1);
  image(pg, 0, 0);
}


            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h1 id=solution>Solution
<a class=anchor href=#solution>#</a></h1><p>This solution basically uses a shader to apply the effects in a lens, based of the coordinates of the mouse the different filters are applied, varying the vector that is used to calculate the color of each pixel. This allows us to get a grayscale, sepia and inverted effect.</p><p>With the next code we can see how the effects are applied:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-glsl data-lang=glsl><span style=display:flex><span><span style=color:#75715e># Grayscale</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> gray <span style=color:#f92672>=</span> (color.r <span style=color:#f92672>+</span> color.g <span style=color:#f92672>+</span> color.b) <span style=color:#f92672>/</span> <span style=color:#ae81ff>3.0</span>;
</span></span><span style=display:flex><span>gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(gray, gray, gray, color.a);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Sepia</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> gray <span style=color:#f92672>=</span> (color.r <span style=color:#f92672>+</span> color.g <span style=color:#f92672>+</span> color.b) <span style=color:#f92672>/</span> <span style=color:#ae81ff>3.0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>vec3</span> sepiaColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec3</span>(gray <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.2</span>, gray <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.9</span>, gray <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.6</span>);
</span></span><span style=display:flex><span>gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(sepiaColor, color.a);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Inverted</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>vec3</span> invertedColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec3</span>(<span style=color:#ae81ff>1.0</span> <span style=color:#f92672>-</span> color.r, <span style=color:#ae81ff>1.0</span> <span style=color:#f92672>-</span> color.g, <span style=color:#ae81ff>1.0</span> <span style=color:#f92672>-</span> color.b);
</span></span><span style=display:flex><span>gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(invertedColor, color.a);
</span></span></code></pre></div><p>In the case of the inverted effect, we just need to substract the color of each pixel to 1.0, this will invert the color of the pixel.</p><p>The other main thing in the code, more exactly in the js file is the function that allows us to get the coordinates of the mouse and pass them to the shader:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>circleEffect</span>.<span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>125</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>circleEffect</span>.<span style=color:#a6e22e>emitResolution</span>(<span style=color:#a6e22e>filterObject</span>, <span style=color:#e6db74>&#39;iResolution&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>circleEffect</span>.<span style=color:#a6e22e>emitPointerPosition</span>(<span style=color:#a6e22e>filterObject</span>, <span style=color:#a6e22e>mouseX</span>, <span style=color:#a6e22e>mouseY</span>, <span style=color:#e6db74>&#39;iMouse&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>filterObject</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;filterType&#39;</span>, <span style=color:#a6e22e>filterType</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>filterObject</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>imageLoaded</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>circleEffect</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>quad</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>pg</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>With the circleEffect.emitPointerPosition we pass the coordinates of the mouse to the shader, and with the filterObject.setUniform we pass the type of filter that we want to apply, getting a cool effect.</p><h1 id=conclusion>Conclusion
<a class=anchor href=#conclusion>#</a></h1><p>The implementation of post effects, also known as image filters or visual effects, serves as a testament to the significance and potential of these techniques in the realm of digital art and interactive graphics. Post effects play a vital role in enhancing and transforming visual content by manipulating colors, tones, and overall aesthetics.</p><p>By utilizing shaders, developers can harness the power of GPU acceleration and create intricate and dynamic visual effects that go beyond the capabilities of traditional 2D rendering. Shaders allow for real-time modifications of pixels, opening up a world of possibilities for creating captivating and interactive visual experiences.</p><h1 id=future-work>Future Work
<a class=anchor href=#future-work>#</a></h1><p>Our exploration of post effects using shaders in p5.js has inspired us to further develop our skills and apply these effects in diverse contexts such as videos and games. We aim to gain a deeper understanding of the importance of post effects in our daily lives, their applications across industries, and their adaptability to different contexts. Moving forward, we will continue to explore advanced techniques, stay updated with the latest developments, and unleash the creative potential of post effects.</p><h1 id=references>References
<a class=anchor href=#references>#</a></h1><ul><li>Shadertoy. <a href="https://www.shadertoy.com/results?query=magnifier">https://www.shadertoy.com/results?query=magnifier</a></li><li>Custom-posteffect. <a href=https://developer.playcanvas.com/en/tutorials/custom-posteffect/>https://developer.playcanvas.com/en/tutorials/custom-posteffect/</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/sergio-sanchezo/showcase/commit/b40f91b24c9425b986ca0257cc8365256c36cbf7 title='Last modified by Sergio Sanchez | June 16, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 16, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#previous-work>Previous Work</a></li><li><a href=#exploring-image-transformations-grayscale-sepia-and-inverted-effects>Exploring Image Transformations: Grayscale, Sepia, and Inverted Effects</a><ul><li><a href=#implementation>Implementation</a></li></ul></li><li><a href=#solution>Solution</a></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#future-work>Future Work</a></li><li><a href=#references>References</a></li></ul></nav></div></aside></main></body></html>